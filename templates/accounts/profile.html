
{% load bootstrap4%}

{%block profile%}
{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <title>Profile</title> 

        <link rel="stylesheet" type= "text/css" href="bootstrap-4.5.3-dist/css/bootstrap.min.css"> 
        <link rel="stylesheet" href="{% static 'css/profile.css' %}">  
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>
    
            {% include 'Pages/header.html'%}
            {% if profile.role == "patient"%}
    <body>      
        <div class="container">
            <div class= "main">   
                <div class= "row">
                    <div class="col-md-4 mt-1">
                        <div class="card text-center sidebar">
                            <div class = "card">
                               <div class="mt-3">
                                   <a href="{% url 'phome' %}">Home</a>
                                   <a href="{% url 'myrecords' %}">My Records</a>
                                   <a href="{% url 'edit_profile' %}">Edit Data</a>
                                   {%if user.is_authenticated %}
                                   <a href="{% url 'home' %}">Signout</a>
                                   {% endif %}
                                   
                               </div>
                            </div>    
                        </div>    
                    </div> 
                    
                    <div class="col-md-8 mt-1">
                        <div class="card mb-3 content">
                            <h1 class="m-3 pt-3">My Profile</h1>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3">
                                        <p><b>Personal Data<b></p>
                                        <hr width="150">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Full name<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{profile.user.first_name}} {{profile.user.last_name}}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>SSN<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{profile.ssn}}
                                    </div>
                                </div>
                                <hr>
                                
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Email<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{profile.user.email}}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Phone<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{profile.phone}}
                                    </div>
                                </div>
                                <hr>
                                <span id="dots">...</span>
                                <button onclick="myFunctionn()" id="myBtn">Read more</button>
                                <span id="more">
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>City<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{profile.city}}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Address<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{profile.address}}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Height<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{patient.height}}cm
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Weight<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{patient.weight}} kg
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Age<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{patient.age}}years old
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Diabetes type<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{patient.diatype}}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Gender<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {{profile.gender}}
                                    </div>
                                </div>
                              </span>
                                
                                <p><b>My charts</b></p>
                                
                                <div class="chart"><canvas id="myChart" style="width:100%;max-width:600px"></canvas></div>
                                <div class="chart"><canvas id="myChart1" style="width:100%;max-width:600px"></canvas></div>
                                <div class="chart"><canvas id="myChart2" style="width:100%;max-width:600px"></canvas></div>
                                <!-- <div class="input-group rounded">
                                    <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                                    <span class="input-group-text border-0" id="search-addon">
                                      <i class="fas fa-search"></i>
                                    </span>
                                </div> -->
                            </div>
                        </div>
                        
                    </div>   
                </div>    
            </div>    
        </div>
        <div id="sideNav">                
            <nav>
              <ul>
                <li><a href="#regform" >Login Form</a></li>
                <li><a href="#footer" >Contact Us</a></li>
              </ul>
            </nav>
          </div>

          <!--the button layout -->
          <div id="menuButton">            
               <img src="{%static 'Images/menu.png'%}" id="menu">
          </div>

          
     </body>
     
        <!--the following is our scripts -->
        <script>           
            var menuButton= document.getElementById("menuButton")
            var sideNav= document.getElementById("sideNav")
            var menu = document.getElementById("menu")
        
            sideNav.style.right=="-250px";
        
            menuButton.onclick = function(){ 
                 if(sideNav.style.right=="-250px"){sideNav.style.right="0";
                 menu.src="{% static 'Images/menu_inverse.png' %}"
                }
                 else{ sideNav.style.right="-250px";
                 menu.src="{% static 'Images/menu.png' %}"
                     } 
            }  
             var scroll = new SmoothScroll('a[href*="#"]', {
                 speed: 1000,
                 speedAsDuration: true
        });
          </script>
        
            {%include 'readings/readings.html'%}
{% comment %}         

        <script>
            var xValues = [1,2,3,4,5,6,7,8,9,10];
    
            new Chart("myChart1", {
              type: "line",
              data: {
                labels: xValues,
                datasets: [{
                  data: [1600,1700,1700,1900,2000,2700,4000,5000,6000,7000],
                  borderColor: "green",
                  label: "Blodd Pressure",
                  fill: false
                }
                ]
              },
              options : {
                hAxis: {title: 'Days'},
                vAxis: {title: 'Price in Millions'},
                legend: 'none'
              }
            });
        </script>

        <script>
            var xValues = [1,2,3,4,5,6,7,8,9,10];
    
            new Chart("myChart2", {
              type: "line",
              data: {
                labels: xValues,
                datasets: [{
                  data: [300,700,2000,5000,6000,4000,2000,1000,200,100],
                  borderColor: "blue",
                  label: "Insulin",
                  fill: false
                }
                ]
              },
              options : {
                hAxis: {title: 'Days'},
                vAxis: {title: 'Price in Millions'},
                legend: 'none'
              }
            });
        </script> {% endcomment %}

        <script>
        function myFunctionn() {
          var dots = document.getElementById("dots");
          var moreText = document.getElementById("more");
          var btnText = document.getElementById("myBtn");
        
          if (dots.style.display === "none") {
            dots.style.display = "inline";
            btnText.innerHTML = "Read more";
            moreText.style.display = "none";
          } else {
            dots.style.display = "none";
            btnText.innerHTML = "Read less";
            moreText.style.display = "inline";
          }
        }
      </script>
{%endif%}

    {% if profile.role == "doctor"%}
    <!DOCTYPE html>
    <html>
        <head>
            <title>Profile</title> 
            <link rel="stylesheet" type= "text/css" href="bootstrap-4.5.3-dist/css/bootstrap.min.css"> 
            <link rel="stylesheet" href=" {% static 'css/doctorprofile.css' %}">  
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <link rel="manifest" href="manifest.json">
            <!-- ios support -->
          <link rel="apple-touch-icon" href="{% static 'Images/icons/icon-96x96.png' %}">
          <meta name="apple-mobile-web-app-status-bar" content="#FFE1C4">
        </head>
        <body>
       
            <div class="container">
                <div class= "main">   
                    <div class= "row">
                        <div class="col-md-4 mt-1">
                            <div class="card text-center sidebar">
                                <div class = "card">
                                   <img src= "{% static 'Images/profile.png' %}" >
                                   <div class="mt-3">
                                    <h3>{{profile.user.first_name}}</h3>
                                    <a href="{% url 'home' %}">Home</a>
                                    <a href="{% url 'edit_profile' %}">Edit Data</a>
                                    {%if user.is_authenticated %}
                                    <a href="{% url 'home' %}">Signout</a>
                                    {% endif %}
                                    
                                </div>
                                </div>    
                            </div>    
                        </div> 
                        <div class="col-md-8 mt-1">
                            <div class="card mb-3 content">
                                <h1 class="m-3 pt-3">Doctor's Profile</h1>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <p><b>Personal Data<b></p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <h5><b>Full name<b></h5>
                                        </div>
                                        <div class="col-md-9 text-secondary">
                                            {{profile.user.first_name}} {{profile.user.last_name}}
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <h5><b>SSN<b></h5>
                                        </div>
                                        <div class="col-md-9 text-secondary">
                                            {{profile.ssn}}
                                        </div>
                                    </div>
                                    <hr>
                                    <span id="dots">...</span>
                                    <button onclick="myFunctionn()" id="myBtn">Read more</button>
                                    <span id="more">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <h5><b>Email<b></h5>
                                        </div>
                                        <div class="col-md-9 text-secondary">
                                            {{profile.user.email}}
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <h5><b>Phone<b></h5>
                                        </div>
                                        <div class="col-md-9 text-secondary">
                                            {{profile.phone}}
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <h5><b>City<b></h5>
                                        </div>
                                        <div class="col-md-9 text-secondary">
                                            {{profile.city}}
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <h5><b>Address<b></h5>
                                        </div>
                                        <div class="col-md-9 text-secondary">
                                            {{profile.address}}
                                        </div>
                                    </div>
                                    <hr>
                                    </span>
                                    <p>Search by patient's SSN</p>
                                    <form>
                                    <div class="input-group rounded">
                                        <input type="search" class="form-control rounded" name="dsearch" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                                        <form>
                                            {% csrf_token %}
                                          <button class="input-group-text border-0" formaction="{% url 'patient_profile' %}" id="search-addon">
                                          <i class="fas fa-search"></i>
                                        </button>
                                    </form>
                                    </div>
                                </div>
                            </div>
                            
                        </div>   
                    </div>    
                </div>    
            </div>
            <div id="sideNav">                
                <nav>
                  <ul>
                    <li><a href="#regform" >Login Form</a></li>
                    <li><a href="#footer" >Contact Us</a></li>
                  </ul>
                </nav>
              </div>
    
              <!--the button layout -->
              <div id="menuButton">            
                   <img src="{% static 'Images/menu.png' %}" id="menu">
              </div>
    
              
                
         </body>
    
                 <!--the following is our scripts -->
        <script>           
            var menuButton= document.getElementById("menuButton")
            var sideNav= document.getElementById("sideNav")
            var menu = document.getElementById("menu")
      
            sideNav.style.right=="-250px";
      
            menuButton.onclick = function(){ 
                 if(sideNav.style.right=="-250px"){sideNav.style.right="0";
                 menu.src="{%static 'Images/menu_inverse.png'%}"
                }
                 else{ sideNav.style.right="-250px";
                 menu.src="{% static 'Images/menu.png' %}"
                     } 
            }  
             var scroll = new SmoothScroll('a[href*="#"]', {
                 speed: 1000,
                 speedAsDuration: true
        });
          </script>
    
          <script>
            function myFunctionn() {
              var dots = document.getElementById("dots");
              var moreText = document.getElementById("more");
              var btnText = document.getElementById("myBtn");
            
              if (dots.style.display === "none") {
                dots.style.display = "inline";
                btnText.innerHTML = "Read more";
                moreText.style.display = "none";
              } else {
                dots.style.display = "none";
                btnText.innerHTML = "Read less";
                moreText.style.display = "inline";
              }
            }
          </script>
    </html>
    {% endif %}


    {% include 'Pages/footer.html'%}
{%endblock%}