{% load static %}
{% load bootstrap4%}
{% include 'Pages/header.html'%}
{%block profile%}

<!DOCTYPE html>
<html>
    <head>
        <title>Profile</title> 
        <script type="text/javascript" src="//cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>
        <script type="text/javascript" src="//cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.fusion.js"></script>     
        <link rel="stylesheet" type= "text/css" href="bootstrap-4.5.3-dist/css/bootstrap.min.css"> 
        <link rel="stylesheet" href="{% static 'css/pprofile.css' %}">  
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>
    <body>
        <div class="header">
            {% comment %} <img src="{% static 'Images/logo.png'%}" alt="logo" /> {% endcomment %}
            <div class="topnav" id="myTopnav">
              {% comment %} <a href="#Banner" >Home</a> {% endcomment %}
              {% comment %} <a href="#About-Us">About Us</a> {% endcomment %}
              {% comment %} <a href="#footer">Contact Us</a> {% endcomment %}
              {% comment %} <a href="javascript:void(0);" class="icon" onclick="myFunction()">&#9776;</a> {% endcomment %}
            </div>
            {% comment %} {% if dsearch %} {% endcomment %}
          
        <div class="container">
            <div class= "main">   
                <div class= "row">
                    <div class="col-md-4 mt-1">
                        <div class="card text-center sidebar">
                            <div class = "card">
                               <img src= "{% static 'Images/profile.png' %}" >
                               <div class="mt-3">
                                   <h3>
                                    {%for profile in profile%}
                                    {{ profile.user.first_name}}
                                    {%endfor%}</h3>
                                   <a href="{% url 'phome' %}">Home</a>
                                   <a href="{% url 'precord' %}">My Records</a>
                                   <a href="{% url 'pprediction'%}">Prediction</a>
                                   <a href="{% url 'edit_profile' %}">Edit Data</a>
                                   {%if user.is_authenticated %}
                                   <a href="{% url 'home' %}">Signout</a>
                                   {% endif %}
                                   
                               </div>
                            </div>    
                        </div>    
                    </div> 
                    
                    <div class="col-md-8 mt-1">
                        <div class="card mb-3 content">
                            <h1 class="m-3 pt-3">Patient's Profile</h1>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3">
                                        <p><b>Personal Data<b></p>
                                        <hr width="150">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Full name<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {%for profile in profile%}
                                        {{ profile.user.first_name}} {{profile.user.last_name}}
                                        {%endfor%}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>SSN<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {%for profile in profile%}
                                        {{ profile.ssn}}
                                        {%endfor%}
                                    </div>
                                </div>
                                <hr>
                                
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Email<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {%for profile in profile%}
                                        {{ profile.user.email}}
                                        {%endfor%}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Phone<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {%for profile in profile%}
                                        {{ profile.phone}}
                                        {%endfor%}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>City<b></h5>
                                        </div>
                                        <div class="col-md-9 text-secondary">
                                            {%for profile in profile%}
                                            {{ profile.city}}
                                            {%endfor%}
                                        </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Address<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {%for profile in profile%}
                                        {{ profile.address}}
                                        {%endfor%}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        {% comment %} <h5><b>Height<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {%for profile in profile%}
                                        {{ profile.phone}}
                                        {%endfor%}cm
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Weight<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                       {{wieght}} kg
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3">
                                        <h5><b>Age<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                       {{age}}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3"> {% endcomment %}
                                        {% comment %} <h5><b>Diabetes type<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                       {{dtype}}
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-md-3"> {% endcomment %}
                                        <h5><b>Gender<b></h5>
                                    </div>
                                    <div class="col-md-9 text-secondary">
                                        {%for profile in profile%}
                                        {{ profile.gender}}
                                        {%endfor%}
                                    </div>
                                    <form enctype="multipart/form-data" >
                                        {% csrf_token %}
                                       
                                        {% comment %} {%bootstrap_form profile %} {% endcomment %}
                                        

                                      </form>
                                </div>
                                <hr>
                                <hr>
                                <p><b>Patient statistics</b></p>
                                <div><canvas id="myChart" style="width:100%;max-width:700px"></canvas></div>
                                <!-- <div class="input-group rounded">
                                    <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                                    <span class="input-group-text border-0" id="search-addon">
                                      <i class="fas fa-search"></i>
                                    </span>
                                </div> -->
                            </div>
                            {% comment %} {%endif%} {% endcomment %}

                            
        <div id="sideNav">                
            <nav>
              <ul>
                <li><a href="#regform" >Login Form</a></li>
                <li><a href="#footer" >Contact Us</a></li>
              </ul>
            </nav>
          </div>

          <!--the button layout -->
          <div id="menuButton">            
               <img src="{% static 'Images/menu.png' %}" id="menu">
          </div>

          
{% if profile.role == "patient"%}

        <!--the following is our scripts -->
    <script>           
        var menuButton= document.getElementById("menuButton")
        var sideNav= document.getElementById("sideNav")
        var menu = document.getElementById("menu")
  
        sideNav.style.right=="-250px";
  
        menuButton.onclick = function(){ 
             if(sideNav.style.right=="-250px"){sideNav.style.right="0";
             menu.src="{% static 'Images/menu_inverse.png' %}"
            }
             else{ sideNav.style.right="-250px";
             menu.src="{% static 'Images/menu.png' %}"
                 } 
        }  
         var scroll = new SmoothScroll('a[href*="#"]', {
             speed: 1000,
             speedAsDuration: true
    });
      </script>
      
      <script>
        var xValues = [1,2,3,4,5,6,7,8,9,10];

        new Chart("myChart", {
          type: "line",
          data: {
            labels: xValues,
            datasets: [{
              data: [860,1140,1060,1060,1070,1110,1330,2210,7830,2478],
              label: "Glucose",
              borderColor: "red",
              fill: false
            },{
              data: [1600,1700,1700,1900,2000,2700,4000,5000,6000,7000],
              borderColor: "green",
              label: "Blodd Pressure",
              fill: false
            },{
              data: [300,700,2000,5000,6000,4000,2000,1000,200,100],
              borderColor: "blue",
              label: "Insulin",
              fill: false
            }]
          },
          options : {
            hAxis: {title: 'Days'},
            vAxis: {title: 'Price in Millions'},
            legend: 'none'
          }
        });
    </script>
{%endif%}

{%endblock profile%}



{% include 'Pages/footer.html'%}